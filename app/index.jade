doctype
html(lang='en', ng-app='walletApp', ng-init='savePassword=' + process.env.SAVE_PASSWORD ng-csp)
  head
    meta(charset='utf-8')
    meta(name="viewport",content="width=device-width, initial-scale=1.0, maximum-scale=1") 
    meta(name="theme-color" content="#187fc0") 
    meta(name="apple-itunes-app" content="app-id=493253309")
    title Blockchain Wallet HD
    link(rel='stylesheet', href='bower_components/bootstrap-css-only/css/bootstrap.css')
    link(rel="stylesheet", href="bower_components/angular-ui-select/dist/select.css")
    script(src='bower_components/jquery/dist/jquery.js')
    script(src='bower_components/angular/angular.js')
    script(src='bower_components/angular-sanitize/angular-sanitize.js')
    script(src='bower_components/angular-cookies/angular-cookies.js')
    script(src='bower_components/angular-bootstrap/ui-bootstrap-tpls.js')
    script(src='bower_components/angular-animate/angular-animate.js')
    script(src='bower_components/angular-ui-router/release/angular-ui-router.js')
    script(src='bower_components/angular-ui-select/dist/select.js')
    script(src='bower_components/angular-audio/app/angular.audio.js')
    script(src='bower_components/qrcode/lib/qrcode.js')
    script(src='bower_components/angular-qr/src/angular-qr.js')
    script(src='bower_components/angular-local-storage/dist/angular-local-storage.js')
    script(src='bower_components/numeral/numeral.js')    
    script(src='bower_components/angular-numeraljs/dist/angular-numeraljs.js')    
    script(src='bower_components/angular-translate/angular-translate.js')
    script(src='bower_components/angular-translate-loader-static-files/angular-translate-loader-static-files.js')
    
    // Not used a.t.m. and they depend on jQuery:
    // script(src='bower_components/seiyria-bootstrap-slider/js/bootstrap-slider.js')    
    // script(src='bower_components/angular-bootstrap-slider/slider.js')
   
    script(src='bower_components/angular-inview/angular-inview.js')
    script(src='bower_components/angular-password-entropy/password-entropy.js')
    script(src='bower_components/intl-tel-input/build/js/intlTelInput.js')
    script(src='bower_components/intl-tel-input/lib/libphonenumber/build/utils.js')
    script(src='bower_components/international-phone-number/releases/international-phone-number.js')
    script(src='bower_components/browserdetection/src/browser-detection.js')
    
    // angular-ladda doesn't play nicely with ui-bootstrap
    // script(src="bower_components/ladda/js/spin.js")
    // script(src="bower_components/ladda/js/ladda.js")
    // script(src="bower_components/angular-ladda/dist/angular-ladda.js")
    
    //- link(rel='stylesheet', href='bower_components/seiyria-bootstrap-slider/css/bootstrap-slider.css')
    //- link(rel="stylesheet", href="bower_components/ladda/dist/ladda-themeless.css")
    !=css('ladda')
    
    !=css('app')
    !=css('navigation')
    !=css('transactions')
    !=css('accounts')
    !=css('top')
    !=css('left')
    !=css('payment-requests')
    !=css('send')
    !=css('settings')
    !=css('signup')
    !=css('directives')
    !=css('virtual-keyboard')
    !=css('security-center')
    !=css('security-badge')
    !=css('verify-recovery-phrase.css')
    !=css('angular-csp')
    !=css('adverts')
    !=css('intlTelInput')
    !=css('show-private-key')
    
    // Blockchain MyWallet javascript (must be called before 'app')
    unless process.env.MYWALLET_MOCK == "1"
      if process.env.DEBUG == "1"
        // Eeasier debugging of MyWallet javascript:        
        !=js('my-wallet/src/ie')
        !=js('my-wallet/src/shared')
        !=js('my-wallet/build/browserify')
        !=js('my-wallet/bower_components/cryptojslib/rollups/sha256.js')
        !=js('my-wallet/bower_components/cryptojslib/rollups/aes.js')
        !=js('my-wallet/bower_components/cryptojslib/rollups/pbkdf2.js')
        !=js('my-wallet/bower_components/cryptojslib/components/cipher-core.js')
        !=js('my-wallet/bower_components/cryptojslib/components/pad-iso10126.js')
        !=js('my-wallet/bower_components/cryptojslib/components/mode-ecb.js')
        !=js('my-wallet/bower_components/cryptojslib/components/pad-nopadding.js')
        !=js('my-wallet/node_modules/sjcl/sjcl')
        !=js('my-wallet/src/crypto-util-legacy.js')
        !=js('my-wallet/src/blockchainapi')
        !=js('my-wallet/src/signer')
        !=js('my-wallet/src/wallet')
        !=js('my-wallet/src/wallet-signup')
        !=js('my-wallet/src/HDWalletAccount.js')
        !=js('my-wallet/src/hdwallet')
        !=js('my-wallet/build/bip39')
        !=js('my-wallet/build/xregexp-all')
        !=js('my-wallet/src/import-export')
      else
        !=js('my-wallet/dist/my-wallet.js')
      !=js('my_wallet')
    
    if process.env.MYWALLET_MOCK == "1"
      // Use mock instead (uncomment the above):
      !=js('services/my_wallet_mock')
    
    !=js('app')
    !=js('translations')
    !=js('controllers')
    !=js('filters')
    !=js('routes')
    !=js('directives')
    !=js('services/wallet')
    !=js('services/security_center')
    !=js('services/adverts')
    !=js('templates')
    
    script(src='bower_components/bc-qr-reader/dist/bc-qr-reader.js')
    

  body(ng-controller="AppCtrl", ui-view="body")