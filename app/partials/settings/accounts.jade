.filter-bar.flex-end.flex-center(data-preflight-tag="AccountsSearch")
  .filter-search
    input(
      type="text"
      placeholder="{{::'SEARCH' | translate}}"
      ng-model="searchText")
    i.ti-search

.row.ptvl
  .col-xs-12
    table.accounts-container(ng-if="status.isLoggedIn")
      tr.responsive.width-100(ng-repeat="account in accounts() | filter:{label: searchText}")
        td.expand
          span.type-md.em-500(ng-bind-html="account.label | escapeHtml | highlight:searchText")
          span.man(ng-show="!account.archived && account.balance != null").prm
            |  ({{ account.balance | toBitCurrency:settings.btcCurrency }})
          span.man(ng-show="account.archived").prm
            |  {{"ACCOUNT_IS_ARCHIVED" | translate}}
          a(ng-click="editAccount(account)", ng-hide="account.archived")
            i.ti-pencil.prm
          span.label.label-primary.btn-xs(translate="DEFAULT", ng-show="!account.archived && isDefault(account)")
          button.btn.btn-default.btn-xs(translate="MAKE_DEFAULT", ng-click="makeDefault(account)", ng-hide="account.archived || isDefault(account)")            
        td.shrink
          a(translate="REVEAL_XPUB",      ng-click="revealXpub(account)", ng-hide="account.archived")
        td.shrink
          a(translate="ARCHIVE",          ng-click="archive(account)", ng-hide="account.archived || isDefault(account)")
          a(translate="UNARCHIVE",        ng-click="unarchive(account)", ng-show="account.archived")
        td.shrink
          button.button-default(
            ui-sref="wallet.common.settings.accounts_addresses({account: account.index})"
            translate="MANAGE_ADDRESSES"
            ng-hide="account.archived"
          )
      tr.responsive.width-100
        td
          button.button-primary.mrm.button-nowrap(ng-click="newAccount()" translate="CREATE_ACCOUNT")

    table.accounts-container.imported-addresses(data-preflight-tag="ImportedAddresses" ng-controller="SettingsImportedAddressesCtrl")
      tr.responsive.width-100
        td.expand
          span.type-md.em-500(translate="IMPORTED_ADDRESSES")
          span  ({{ getLegacyTotal() | toBitCurrency:settings.btcCurrency }})
        td.shrink
        td.shrink
          button.button-primary(
            translate="TRANSFER_ALL"
            ng-show="activeSpendableAddresses().length > 0"
            ng-click="openTransferAll()"
          )
        td.shrink
          button.button-default(translate="VERIFY_MESSAGE" ng-click="openVerifyMessage()")
      include ./imported-addresses

.row.spacing
.row.spacing

.row
  .col-xs-12
    a.button-default(
      ui-sref="wallet.common.settings.address_book"
      translate="MANAGE_ADDRESS_BOOK"
      ng-show="addressBookPresent"
    )
